<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" lang="en-US">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=11"/>
<meta name="generator" content="Doxygen 1.9.5"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>RTAI API: Semaphores.</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr id="projectrow">
  <td id="projectalign">
   <div id="projectname">RTAI API<span id="projectnumber">&#160;5.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.9.5 -->
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
var searchBox = new SearchBox("searchBox", "search/",'.html');
/* @license-end */
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
/* @license-end */
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:d3d9a9a6595521f9666a5e94cc830dab83b65699&amp;dn=expat.txt MIT */
$(document).ready(function(){initNavTree('group__fifos__sem.html',''); initResizable(); });
/* @license-end */
</script>
<div id="doc-content">
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<div id="MSearchResults">
<div class="SRPage">
<div id="SRIndex">
<div id="SRResults"></div>
<div class="SRStatus" id="Loading">Loading...</div>
<div class="SRStatus" id="Searching">Searching...</div>
<div class="SRStatus" id="NoMatches">No Matches</div>
</div>
</div>
</div>
</div>

<div class="header">
  <div class="summary">
<a href="#files">Files</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle"><div class="title">Semaphores.<div class="ingroups"><a class="el" href="group__fifos.html">RTAI FIFO module</a></div></div></div>
</div><!--header-->
<div class="contents">

<p>RTAI FIFO semaphore functions.  
<a href="#details">More...</a></p>
<div class="dynheader">
Collaboration diagram for Semaphores.:</div>
<div class="dyncontent">
<div class="center"><img src="group__fifos__sem.png" border="0" usemap="#agroup____fifos____sem" alt=""/></div>
<map name="agroup____fifos____sem" id="agroup____fifos____sem">
<area shape="rect" href="group__fifos.html" title="See the general overview of RTAI fifos." alt="" coords="5,22,136,47"/>
<area shape="rect" title="RTAI FIFO semaphore functions." alt="" coords="247,22,345,47"/>
<area shape="rect" href="group__fifos__ipc.html" title="RTAI FIFO communication functions." alt="" coords="456,22,657,47"/>
</map>
</div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="files" name="files"></a>
Files</h2></td></tr>
<tr class="memitem:rtai__fifos_8h"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="rtai__fifos_8h.html">rtai_fifos.h</a></td></tr>
<tr class="memdesc:rtai__fifos_8h"><td class="mdescLeft">&#160;</td><td class="mdescRight">Interface of the <a class="el" href="group__fifos.html">RTAI FIFO module</a>. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:fifos_8c"><td class="memItemLeft" align="right" valign="top">file &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="fifos_8c.html">fifos.c</a></td></tr>
<tr class="memdesc:fifos_8c"><td class="mdescLeft">&#160;</td><td class="mdescRight">Implementation of the <a class="el" href="group__fifos.html">RTAI FIFO module</a>. <br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a id="func-members" name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:gab1d77341ac9b787584ac9af25dbe58fd"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fifos__sem.html#gab1d77341ac9b787584ac9af25dbe58fd">rtf_sem_wait</a> (int fd)</td></tr>
<tr class="memdesc:gab1d77341ac9b787584ac9af25dbe58fd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a semaphore.  <a href="group__fifos__sem.html#gab1d77341ac9b787584ac9af25dbe58fd">More...</a><br /></td></tr>
<tr class="separator:gab1d77341ac9b787584ac9af25dbe58fd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga59942c0cade5055a42986d5d442ebde9"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fifos__sem.html#ga59942c0cade5055a42986d5d442ebde9">rtf_sem_timed_wait</a> (int fd, int ms_delay)</td></tr>
<tr class="memdesc:ga59942c0cade5055a42986d5d442ebde9"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wait a semaphore with timeout.  <a href="group__fifos__sem.html#ga59942c0cade5055a42986d5d442ebde9">More...</a><br /></td></tr>
<tr class="separator:ga59942c0cade5055a42986d5d442ebde9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga18244c6a2a2ce798d95f199cd8efd596"><td class="memItemLeft" align="right" valign="top">RTAI_SYSCALL_MODE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fifos__sem.html#ga18244c6a2a2ce798d95f199cd8efd596">rtf_sem_init</a> (unsigned int minor, int value)</td></tr>
<tr class="memdesc:ga18244c6a2a2ce798d95f199cd8efd596"><td class="mdescLeft">&#160;</td><td class="mdescRight">Initialize a binary semaphore.  <a href="group__fifos__sem.html#ga18244c6a2a2ce798d95f199cd8efd596">More...</a><br /></td></tr>
<tr class="separator:ga18244c6a2a2ce798d95f199cd8efd596"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ga7a7bf0a45b61cf665814f2ba1a228dd0"><td class="memItemLeft" align="right" valign="top">RTAI_SYSCALL_MODE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fifos__sem.html#ga7a7bf0a45b61cf665814f2ba1a228dd0">rtf_sem_post</a> (unsigned int minor)</td></tr>
<tr class="memdesc:ga7a7bf0a45b61cf665814f2ba1a228dd0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Posting (signaling) a semaphore.  <a href="group__fifos__sem.html#ga7a7bf0a45b61cf665814f2ba1a228dd0">More...</a><br /></td></tr>
<tr class="separator:ga7a7bf0a45b61cf665814f2ba1a228dd0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gafb69df6ac4f76776a026b1ca32c73487"><td class="memItemLeft" align="right" valign="top">RTAI_SYSCALL_MODE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fifos__sem.html#gafb69df6ac4f76776a026b1ca32c73487">rtf_sem_trywait</a> (unsigned int minor)</td></tr>
<tr class="memdesc:gafb69df6ac4f76776a026b1ca32c73487"><td class="mdescLeft">&#160;</td><td class="mdescRight">Take a semaphore, only if the calling task is not blocked.  <a href="group__fifos__sem.html#gafb69df6ac4f76776a026b1ca32c73487">More...</a><br /></td></tr>
<tr class="separator:gafb69df6ac4f76776a026b1ca32c73487"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:gaecb9728b684b1ae02527741993a19df5"><td class="memItemLeft" align="right" valign="top">RTAI_SYSCALL_MODE int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__fifos__sem.html#gaecb9728b684b1ae02527741993a19df5">rtf_sem_destroy</a> (unsigned int minor)</td></tr>
<tr class="memdesc:gaecb9728b684b1ae02527741993a19df5"><td class="mdescLeft">&#160;</td><td class="mdescRight">Delete a semaphore.  <a href="group__fifos__sem.html#gaecb9728b684b1ae02527741993a19df5">More...</a><br /></td></tr>
<tr class="separator:gaecb9728b684b1ae02527741993a19df5"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<p >RTAI FIFO semaphore functions. </p>
<p >Fifos have an embedded synchronization capability, however using them only for such a purpose can be clumsy. So RTAI fifos have binary semaphores for that purpose. Note that, as for put and get fifos functions, only nonblocking functions are available in kernel space.</p>
<center><table class="doxtable">
<tr>
<td>Called from RT task </td><td>Called from Linux process  </td></tr>
<tr>
<td><a class="el" href="group__fifos__sem.html#ga18244c6a2a2ce798d95f199cd8efd596" title="Initialize a binary semaphore.">rtf_sem_init</a> </td><td><a class="el" href="group__fifos__sem.html#ga18244c6a2a2ce798d95f199cd8efd596" title="Initialize a binary semaphore.">rtf_sem_init</a>  </td></tr>
<tr>
<td><a class="el" href="group__fifos__sem.html#ga7a7bf0a45b61cf665814f2ba1a228dd0" title="Posting (signaling) a semaphore.">rtf_sem_post</a> </td><td><a class="el" href="group__fifos__sem.html#ga7a7bf0a45b61cf665814f2ba1a228dd0" title="Posting (signaling) a semaphore.">rtf_sem_post</a>  </td></tr>
<tr>
<td><a class="el" href="group__fifos__sem.html#gafb69df6ac4f76776a026b1ca32c73487" title="Take a semaphore, only if the calling task is not blocked.">rtf_sem_trywait</a> </td><td><a class="el" href="group__fifos__sem.html#gab1d77341ac9b787584ac9af25dbe58fd" title="Take a semaphore.">rtf_sem_wait</a> <br  />
 <a class="el" href="group__fifos__sem.html#gafb69df6ac4f76776a026b1ca32c73487" title="Take a semaphore, only if the calling task is not blocked.">rtf_sem_trywait</a> <br  />
 <a class="el" href="group__fifos__sem.html#ga59942c0cade5055a42986d5d442ebde9" title="Wait a semaphore with timeout.">rtf_sem_timed_wait</a>  </td></tr>
<tr>
<td><a class="el" href="group__fifos__sem.html#gaecb9728b684b1ae02527741993a19df5" title="Delete a semaphore.">rtf_sem_destroy</a> </td><td><a class="el" href="group__fifos__sem.html#gaecb9728b684b1ae02527741993a19df5" title="Delete a semaphore.">rtf_sem_destroy</a>  </td></tr>
</table>
</center><p >To add a bit of confusion (J), with respect to RTAI schedulers semaphore functions, fifos semaphore functions names follow the POSIX mnemonics.</p>
<p >It should be noted that semaphores are associated to a fifo for identification purposes. So it is once more important to remember is that in the user space side you address fifos through the file descriptor you get at fifo device opening while in kernel space you directly address them by their minor number. So you will mate the fd you get in user space by </p><pre class="fragment">open(/dev/rtfxx,) </pre><p> to the integer <code>xx</code> youll use in kernel space. </p>
<h2 class="groupheader">Function Documentation</h2>
<a id="gaecb9728b684b1ae02527741993a19df5" name="gaecb9728b684b1ae02527741993a19df5"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gaecb9728b684b1ae02527741993a19df5">&#9670;&#160;</a></span>rtf_sem_destroy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTAI_SYSCALL_MODE int rtf_sem_destroy </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Delete a semaphore. </p>
<p >rtf_sem_destroy deletes a semaphore previously created with <a class="el" href="group__fifos__sem.html#ga18244c6a2a2ce798d95f199cd8efd596" title="Initialize a binary semaphore.">rtf_sem_init()</a>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">minor</td><td>is a file descriptor returned by standard UNIX open in user space while it is directly the chosen fifo number in kernel space. In fact fifos semaphores must be associated to a fifo for identification purposes.</td></tr>
  </table>
  </dd>
</dl>
<p>Any tasks blocked on this semaphore is returned in error and allowed to run when semaphore is destroyed.</p>
<p >rtf_sem_destroy can be used both in kernel and user space.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on sucess. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>if <em>fd_fifo</em> refers to an invalid file descriptor or fifo. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga18244c6a2a2ce798d95f199cd8efd596" name="ga18244c6a2a2ce798d95f199cd8efd596"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga18244c6a2a2ce798d95f199cd8efd596">&#9670;&#160;</a></span>rtf_sem_init()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTAI_SYSCALL_MODE int rtf_sem_init </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minor</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>value</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Initialize a binary semaphore. </p>
<p >rtf_sem_init initializes a semaphore identified by the file descriptor or fifo number <em>fd_fifo</em>.</p>
<p >A fifo semaphore can be used for communication and synchronization between kernel and user space.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">minor</td><td>is a file descriptor returned by standard UNIX open in user space while it is directly the chosen fifo number in kernel space. In fact fifos semaphores must be associated to a fifo for identification purposes. </td></tr>
    <tr><td class="paramname">value</td><td>is the initial value of the semaphore, it must be either 0 or 1.</td></tr>
  </table>
  </dd>
</dl>
<p>rt_sem_init can be used both in kernel and user space.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>if <em>fd_fifo</em> refers to an invalid file descriptor or fifo. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga7a7bf0a45b61cf665814f2ba1a228dd0" name="ga7a7bf0a45b61cf665814f2ba1a228dd0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga7a7bf0a45b61cf665814f2ba1a228dd0">&#9670;&#160;</a></span>rtf_sem_post()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTAI_SYSCALL_MODE int rtf_sem_post </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Posting (signaling) a semaphore. </p>
<p >rtf_sem_post signal an event to a semaphore. The semaphore value is set to one and the first process, if any, in semaphore's waiting queue is allowed to run.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">minor</td><td>is a file descriptor returned by standard UNIX open in user space while it is directly the chosen fifo number in kernel space. In fact fifos semaphores must be associated to a fifo for identification purposes.</td></tr>
  </table>
  </dd>
</dl>
<p>Since it is not blocking rtf_sem_post can be used both in kernel and user space.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>if <em>fd_fifo</em> refers to an invalid file descriptor or fifo. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ga59942c0cade5055a42986d5d442ebde9" name="ga59942c0cade5055a42986d5d442ebde9"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ga59942c0cade5055a42986d5d442ebde9">&#9670;&#160;</a></span>rtf_sem_timed_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtf_sem_timed_wait </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>ms_delay</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wait a semaphore with timeout. </p>
<p >rtf_sem_timed_wait is a timed version of the standard semaphore wait call. The semaphore value is tested and set to zero. If it was one rtf_sem_timed_wait returns immediately. Otherwise the caller process is blocked and queued up in a priority order based on is POSIX real time priority.</p>
<p >A process blocked on a semaphore returns when:</p><ul>
<li>the caller task is in the first place of the waiting queue and somebody issues a rtf_sem_post;</li>
<li>timeout occurs;</li>
<li>an error occurs (e.g. the semaphore is destroyed).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>is the file descriptor returned by standard UNIX open in user space. In case of timeout the semaphore value is set to one before return. </td></tr>
    <tr><td class="paramname">ms_delay</td><td>is in milliseconds and is relative to the Linux current time.</td></tr>
  </table>
  </dd>
</dl>
<p>Since it is blocking rtf_sem_timed_wait cannot be used both in kernel and user space.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if fd_fifo refers to an invalid file descriptor or fifo. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gafb69df6ac4f76776a026b1ca32c73487" name="gafb69df6ac4f76776a026b1ca32c73487"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gafb69df6ac4f76776a026b1ca32c73487">&#9670;&#160;</a></span>rtf_sem_trywait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">RTAI_SYSCALL_MODE int rtf_sem_trywait </td>
          <td>(</td>
          <td class="paramtype">unsigned int&#160;</td>
          <td class="paramname"><em>minor</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a semaphore, only if the calling task is not blocked. </p>
<p >rtf_sem_trywait is a version of the semaphore wait operation is similar to <a class="el" href="group__fifos__sem.html#gab1d77341ac9b787584ac9af25dbe58fd" title="Take a semaphore.">rtf_sem_wait()</a> but it is never blocks the caller. If the semaphore is not free, rtf_sem_trywait returns immediately and the semaphore value remains unchanged.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">minor</td><td>is a file descriptor returned by standard UNIX open in user space while it is directly the chosen fifo number in kernel space. In fact fifos semaphores must be associated to a fifo for identification purposes.</td></tr>
  </table>
  </dd>
</dl>
<p>Since it is not blocking rtf_sem_trywait can be used both in kernel and user space.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">EINVAL</td><td>if <em>fd_fifo</em> refers to an invalid file descriptor or fifo. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="gab1d77341ac9b787584ac9af25dbe58fd" name="gab1d77341ac9b787584ac9af25dbe58fd"></a>
<h2 class="memtitle"><span class="permalink"><a href="#gab1d77341ac9b787584ac9af25dbe58fd">&#9670;&#160;</a></span>rtf_sem_wait()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int rtf_sem_wait </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>fd</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Take a semaphore. </p>
<p >rtf_sem_wait waits for a event to be posted (signaled) to a semaphore. The semaphore value is set to tested and set to zero. If it was one rtf_sem_wait returns immediately. Otherwise the caller process is blocked and queued up in a priority order based on is POSIX real time priority.</p>
<p >A process blocked on a semaphore returns when:</p><ul>
<li>the caller task is in the first place of the waiting queue and somebody issues a rtf_sem_post;</li>
<li>an error occurs (e.g. the semaphore is destroyed).</li>
</ul>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">fd</td><td>is the file descriptor returned by standard UNIX open in user space</td></tr>
  </table>
  </dd>
</dl>
<p>Since it is blocking rtf_sem_waitcannot be used both in kernel and user space.</p>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">0</td><td>on success. </td></tr>
    <tr><td class="paramname">-EINVAL</td><td>if <em>fd_fifo</em> refers to an invalid file descriptor or fifo. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="footer">Generated by <a href="https://www.doxygen.org/index.html"><img class="footer" src="doxygen.svg" width="104" height="31" alt="doxygen"/></a> 1.9.5 </li>
  </ul>
</div>
</body>
</html>
